<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <script src="./script/bootstrap.js"></script>
    <link rel="stylesheet" href="./style/Style.css">
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="./style/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">


</head>

<body>

    <div class="Main_Orange_Registry">
        <div class="img_slide ">
            <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./Image/1.jpg" class="d-block w-100" alt="Orange_pic1">
                    </div>
                    <div class="carousel-item">
                        <img src="./Image/3.jpg" class="d-block w-100" alt="Orange_pic2">
                    </div>

                </div>

            </div>
        </div>

        <div class="nav_bar">
            <a href="./index.html"> <img style="width:100% ;" src="./Image/logo.png"></a>
            <div class="empty"></div>
            <ul>
                <li><a href="https://orangecodingacademy.com/help">Help</a></li>
                <li><a href="https://orangecodingacademy.com/terms">Terms & Conditions</a></li>
            </ul>
        </div>


        <div class="form-section">
            <form class="Main_form" action="">
                <div id="epr_Default"></div>
                <h2>Sign in</h2><br>
                <label><span class="S2">Email address </span><span class="S1">*</span></label>
                <input id="xEmail" type="text" required>

                <!-- ***************************** -->

                <div>
                    <div id="em_check">The email field is required..</div>
                </div>
                <address>eg: username@domain.com</address>

                <!-- ***************************** -->



                <label><span class="S2">Password</span> <span class="S1">*</span></label>
                <div id="flotEyeBox">
                    <input id="borderPass" type="password" style="width:95%" required>
                </div>

                <!-- ***************************** -->

                <div>
                    <div id="check_password">The password field is required.</div>

                </div><br>
                <div><a id="forgettt" target="_blank" href="https://orangecodingacademy.com/password/reset">Forgot your
                        password?</a></div>
                <br>

                <!-- ***************************** -->


                <button id="B1" class="btn btn-primary" type="submit">Login</button><br>




            </form>
        </div>
    </div>



    <script>


        document.getElementById('B1').onclick = function () { Validation() }

        function Validation() {
            //************* for Email Validation *****************************
            let inputMail = xEmail.value;
            let validMail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;


            if (inputMail.match(validMail)) {
                document.getElementById('em_check').style.display = "none";
                document.getElementById('xEmail').style.borderColor = "black"

            } else {
                document.getElementById('em_check').style.display = "block"
                document.getElementById('xEmail').style.borderColor = "red"
            }


            //************* for Pass Validation *****************************
            let inputPass = borderPass.value;

            if (inputPass != "") {
                document.getElementById('check_password').style.display = "none";
                document.getElementById('borderPass').style.borderColor = "black"


            } else {
                document.getElementById('check_password').style.display = "block"
                document.getElementById('check_password').style.fontWeight = "bold"
                document.getElementById('borderPass').style.borderColor = "red"

            }


            let not_Match = false;
            let uIndex = null;
            let local_Form = JSON.parse(localStorage.getItem('local_Form')) || [];

            local_Form.forEach((element, arrayIndex) => {
                if (element.Mail == inputMail) {
                    not_Match = true;
                    uIndex = arrayIndex;
                }
            });

            if (not_Match && local_Form[uIndex].Pass == inputPass) {

                //   document.getElementById("epr_Default").innerHTML= "logged in successfuly ";

                sessionStorage.Mail = local_Form[uIndex].Mail;
                sessionStorage.Pass = local_Form[uIndex].Pass;
                window.open('https://www.youtube.com/', "_blank");
                sighIn.preventDefault()

            } else if (not_Match && local_Form[uIndex].Pass !== inputPass) {

                document.getElementById("epr_Default").innerHTML = "Wrong password Pleas tray again";
                sighIn.preventDefault();
            } else if (!not_Match) {

                document.getElementById("epr_Default").innerHTML = "account not found Sign up please";
                sighIn.preventDefault();
            } else {
                document.getElementById("epr_Default").innerHTML = "";
            }
            sighIn.preventDefault();
        }
    </script>

</body>

</html>